---
import { Image } from "astro:assets";
---

<li class="bg-white rounded-lg shadow-sm overflow-hidden">
  <div class="relative">
    <Image
      alt={Astro.props.alt ?? "Specialty"}
      class={Astro.props.imgClass ?? "w-full h-48 object-cover"}
      width={Astro.props.width ?? 800}
      height={Astro.props.height ?? 480}
      src={Astro.props.src ?? "/images/granos.webp"}
    />
    <div
      class="absolute top-3 right-3 bg-black/70 text-white text-sm px-3 py-1 rounded"
    >
      {Astro.props.priceLabel ?? ""}
    </div>
  </div>
  <div class="p-4">
    <h3 class="text-lg font-semibold">{Astro.props.title ?? "Especial"}</h3>
    <div class="text-sm text-appGray-500 mt-1 italic">
      {Astro.props.origin ? `${Astro.props.origin} · ` : ""}{
        Astro.props.tastingNotes ?? ""
      }
    </div>
    <p class="mt-2 text-sm text-appGray-500">
      {Astro.props.description ?? "Descripción de la especialidad."}
    </p>
    {
      Astro.props.tags ? (
        <div class="mt-3 flex flex-wrap gap-2">
          {Astro.props.tags.map((t: any) => (
            <span class="text-xs bg-appGray-100 text-appGray-500 px-2 py-1 rounded">
              {t}
            </span>
          ))}
        </div>
      ) : null
    }
    <div class="mt-4 flex items-center justify-between">
      <div class="text-xs uppercase tracking-wider text-appGray-500">
        SKU: {Astro.props.sku ?? "-"}
      </div>
      <button
        class="text-sm bg-appText text-white px-3 py-1 rounded hover:opacity-90"
        disabled={Astro.props.stock <= 0}
        aria-disabled={Astro.props.stock <= 0}
      >
        {Astro.props.stock > 0 ? "Añadir" : "Agotado"}
      </button>
    </div>
  </div>
</li>
